<!DOCTYPE HTML>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>Shahar Nutrition</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>
</head>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header">
        <a href="index.html" class="logo"><strong>Shahar Nutrition</strong> <span></span></a>
        <nav>
            <a href="#menu">תפריט</a>
        </nav>
    </header>
    <!-- Menu -->
    <nav id="menu">
        <ul class="links">
            <li><a href="index.html">דף הבית</a></li>
            <li><a href="aboutMe.html">קצת עליי</a></li>
            <li><a href="recipes.html">מתכונים</a></li>
            <li><a href="newsletter.html">ידיעון </a></li>
        </ul>
        <!--						<ul class="actions stacked">
                                    <li><a href="#" class="button primary fit">Get Started</a></li>
                                    <li><a href="#" class="button fit">Log In</a></li>
                                </ul>-->
    </nav>

    <!-- Banner -->
    <section id="banner" class="major">
        <div class="inner">
            <header class="major">
                <h1></h1>
            </header>
            <div class="stack-panel">
                <p>ברוכים הבאים! כאן תמצאו תוכן על תזונה בריאה, פשוטה ומאוזנת – בלי שטויות, הרבה כנות, טעם טוב ונוחות לחיי היום-יום.</p>
                <p>אני מאמין שאין סיבה להסתבך כדי לאכול בריא – כל מה שצריך זה להבין את הבסיס ולהיות קשובים לגוף שלכם.</p>
                <p>הדרך לאכול בריא ולהרגיש טוב לא קשורה רק באיכות המזון, אלא גם בהרגלי אכילה והתנהגות שהיו קיימים אצל בני אדם מאז ומתמיד.</p>
                <p>אם אתם רוצים להרגיש טוב יותר, להפסיק עם ההתעסקות המיותרת בחישובים ובדיאטות שלא עובדות – הגעתם בדיוק למקום הנכון.</p>

                <ul class="actions">
                    <li class="centered">
                        <a href="#contact" class="button scrolly">להשארת פרטים</a>
                    </li>
                </ul>
            </div>
        </div>
    </section>


    <!-- Main -->
    <div id="main">

        <!-- One -->
        <section id="one" class="tiles">
            <article id="recipe-article">
                <span class="image">
<!--                    <img src="/landingPage/images/banner.jpg" alt=""/>-->
                </span>
                <header class="major">
                    <h3><a href="/landingPage/recipes.html" class="link"></a></h3>
                    <p>מתכונים טעימים ובריאים! </p>
                </header>
            </article>

            <script>
                let animationTriggered = false; // Flag to track whether animation has been triggered

                // Function to detect when an element is in the middle 1/7 range of the viewport
                function isElementInMiddleRange(el) {
                    const rect = el.getBoundingClientRect();
                    const windowHeight = window.innerHeight || document.documentElement.clientHeight;

                    // Divide the screen into 7 parts and trigger animation if the element is outside the middle 1/7 range
                    const middleStart = windowHeight / 3;  // 1/3 of the height (middle 1/7 is roughly within 1/3 of the screen)
                    const middleEnd = windowHeight * 2 / 3;  // 2/3 of the height

                    // Check if the element is outside the middle 1/7 and comes back into it
                    return (rect.top < middleStart || rect.bottom > middleEnd) && rect.bottom > 0 && rect.top < windowHeight;
                }

                // Function to reset the animation so that it can be triggered again
                function resetAnimation() {
                    const article = document.getElementById('recipe-article');
                    article.classList.remove('animate'); // Remove the class to reset the animation
                    void article.offsetWidth; // Trigger reflow to reset the animation
                    article.classList.add('animate'); // Re-add the class to trigger the animation
                }

                // Scroll event listener to trigger animation when the element goes out of the middle and back in view
                window.addEventListener('scroll', function() {
                    const article = document.getElementById('recipe-article');

                    // Only trigger the animation if it hasn't been triggered yet, to prevent flickering
                    if (isElementInMiddleRange(article) && !animationTriggered) {
                        resetAnimation();
                        animationTriggered = true; // Set the flag to true once the animation is triggered
                    }

                    // Reset the flag if the element is no longer in the middle range (so the animation can be triggered again)
                    if (!isElementInMiddleRange(article) && animationTriggered) {
                        animationTriggered = false;
                    }
                });

            </script>


            <style>
                #video-article {
                    position: relative;
                    background-image: url('../landingPage/images/banner.jpg'); /* תמונת ברירת מחדל */
                    background-size: cover;
                    background-position: center center; /* ממרכז את התמונה גם במובייל */
                    background-repeat: no-repeat;
                    padding: 20px;
                    min-height: 300px; /* מבטיח שהתמונה תהיה בגובה סביר גם בלי וידאו */
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                }

                /* וידאו יתאים את הגודל שלו כדי לא לצאת מהמסגרת */
                .video-wrapper {
                    position: relative;
                    z-index: 2;
                    width: 100%;
                    max-width: 600px; /* מגביל את הרוחב של הוידאו כדי לשמור על פרופורציות */
                }

                /* שכבת הכהות על התמונה */
                #video-article::before {
                    content: "";
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.5);
                    z-index: 1;
                }

                /* כותרת תהיה תמיד באמצע ותשמור על קריאות */
                .major {
                    position: relative;
                    z-index: 3;
                    text-align: center;
                    color: white;
                    font-size: 1.5rem; /* כותרת גדולה וברורה */
                    font-weight: bold;
                }

                /* תיקון נוסף למובייל */
                @media screen and (max-width: 768px) {
                    #video-article {
                        padding: 15px;
                        min-height: 250px;
                        background-size: contain; /* מבטיח שהתמונה תישאר בתוך המסגרת במובייל */
                    }

                    .video-wrapper {
                        max-width: 100%; /* מבטיח שהוידאו לא יגלוש החוצה */
                    }

                    .major {
                        font-size: 1.2rem; /* כותרת קטנה יותר במובייל */
                    }
                }

            </style>

            <script>
                const CHANNEL_ID = "UCTD8JBEtEbuQULxAG-w5mSQ"; // מזהה ערוץ YouTube
                const PROXY_URL = "https://api.allorigins.win/get?url=";
                const RSS_URL = `https://www.youtube.com/feeds/videos.xml?channel_id=${CHANNEL_ID}`;

                async function fetchLatestVideo() {
                    try {
                        console.log("🔄 מבצע טעינה...");

                        const response = await fetch(PROXY_URL + encodeURIComponent(RSS_URL));
                        const json = await response.json();
                        const text = json.contents;
                        console.log("✅ קיבלנו את ה-RSS:", text);

                        const parser = new DOMParser();
                        const xml = parser.parseFromString(text, "text/xml");
                        const entry = xml.querySelector("entry");

                        if (!entry) {
                            throw new Error("לא נמצא סרטון");
                        }

                        const videoId = entry.querySelector("yt\\:videoId, videoId").textContent;

                        console.log(`📌 טוען סרטון (ID: ${videoId})`);

                        // עדכון ה-iframe עם הסרטון החדש
                        document.getElementById("video-frame").src = `https://www.youtube.com/embed/${videoId}`;
                        document.getElementById("video-link").href = `https://www.youtube.com/watch?v=${videoId}`;
                    } catch (error) {
                        console.error("❌ שגיאה בטעינת הסרטון:", error);
                    }
                }

                // קריאה לפונקציה בעת טעינת הדף
                fetchLatestVideo();
            </script>
        </section>

        <!-- Two -->
        <!--							<section id="two">
                                        <div class="inner">
                                            <header class="major">
                                                <h2>Massa libero</h2>
                                            </header>
                                            <p>Nullam et orci eu lorem consequat tincidunt vivamus et sagittis libero. Mauris aliquet magna magna sed nunc rhoncus pharetra. Pellentesque condimentum sem. In efficitur ligula tate urna. Maecenas laoreet massa vel lacinia pellentesque lorem ipsum dolor. Nullam et orci eu lorem consequat tincidunt. Vivamus et sagittis libero. Mauris aliquet magna magna sed nunc rhoncus amet pharetra et feugiat tempus.</p>
                                            <ul class="actions">
                                                <li><a href="landing.html" class="button next">Get Started</a></li>
                                            </ul>
                                        </div>
                                    </section>-->

    </div>

    <!-- Contact -->
    <section id="contact">
        <div class="inner">
            <section>
                <header class="major">
                    <h2>הצטרפו להתליך</h2>
                </header>
                <form id="contact-form">
                    <div class="fields">
                        <div class="field half">
                            <label for="name">שם מלא</label>
                            <input type="text" name="name" id="name" required/>
                        </div>
                        <div class="field half">
                            <label for="email">מייל</label>
                            <input type="text" name="email" id="email" required/>
                        </div>
                        <div class="field half">
                            <label for="phone">מס' טלפון</label>
                            <input type="text" name="phone" id="phone" required/>
                        </div>
                        <div class="field">
                            <label for="goals">מה המטרות שלך?</label>
                            <textarea name="goals" id="goals" rows="6"></textarea>
                        </div>
                    </div>
                    <ul class="actions">
                        <li><input type="submit" value="שלח" class="primary"/></li>
                    </ul>
                </form>
                <div id="success-message" style="display:none; color:green; font-weight:bold; margin-top:10px;">
                    ✅ הטופס נשלח בהצלחה!
                </div>
            </section>
        </div>
    </section>

<!--    <article id="video-article">
        <div class="video-wrapper">
            <iframe id="video-frame" width="100%" height="400"
                    src="" frameborder="0" allowfullscreen>
            </iframe>
        </div>
        <header class="major">
            <a id="video-link" href="#" class="link" target="_blank"></a>
        </header>
    </article>-->

</div>

<!-- Footer -->
<footer id="footer">
    <div class="inner">
        <ul class="icons">
            <li><a href="https://www.instagram.com/shahar_nutrition/" class="icon brands alt fa-instagram"><span
                    class="label">Instagram</span></a></li>
            <li><a href="https://www.facebook.com/search/top?q=shahar%20or" class="icon brands alt fa-facebook-f"><span
                    class="label">Facebook</span></a></li>
            <li><a href="https://www.tiktok.com/@shahar_nutrition" class="icon brands alt fa-tiktok"><span
                    class="label">Tiktok</span></a></li>
            <li><a href="https://www.youtube.com/@Shahar_nutrition" class="icon brands alt fa-youtube"><span
                    class="label">Youtube</span></a></li>
        </ul>
        <ul class="copyright">
            <li>&copy; Inc</li>
            <li>Design: <a href="#">xguyor</a></li>
        </ul>
    </div>
</footer>

</div>

<!-- Scripts -->
<!--  send form to google sheet-->
<script>
    const GOOGLE_SHEET_API_URL = "https://script.google.com/macros/s/AKfycbzaHmyzofnkHt_m_qnXrfM49wR5DOnxLVTv2prso6cUsb1pZVQGcSIJSMjfyzvhPFOp/exec";

    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contact-form");
        const successMessage = document.getElementById("success-message");

        form.addEventListener("submit", function (e) {
            e.preventDefault();

            const formData = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                phone: document.getElementById("phone").value,
                goals: document.getElementById("goals").value,
            };

            form.reset();

            fetch(GOOGLE_SHEET_API_URL, {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                mode: "no-cors",
                body: JSON.stringify(formData),
            }).then(() => {
                successMessage.classList.add("show");

                setTimeout(() => {
                    successMessage.classList.remove("show");
                }, 3000);
            }).catch(error => {
                console.error("Submission failed:", error);
            });
        });
    });
</script>
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

</body>
</html>